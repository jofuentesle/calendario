---
import type { FormInput } from '~/types'; 
const { inputs, textarea, disclaimer, button = 'Contact us', description = '' } = Astro.props;
---

<form id="form-contact">
  {inputs &&
    inputs.map(({ type = 'text', name, label = '', options = [] }: FormInput) =>
      name && (
        <div class="mb-6">
          {label && (
            <label for={name} class="block text-sm font-medium">
              {label}
            </label>
          )}
          {type === 'select' ? (
            <select
              name={name}
              id={name}
              class="py-3 px-4 block w-full text-md rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-slate-900"
            >
              {options.map(option => (
                <option value={option.value}>{option.label}</option>
              ))}
            </select>
          ) : (
            <input
              type={type}
              name={name}
              id={name}
              class="py-3 px-4 block w-full text-md rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-slate-900"
            />
          )}
        </div>
      )
    )
  }

  {textarea && (
    <div>
      <label for="textarea" class="block text-sm font-medium">
        {textarea.label}
      </label>
      <textarea
        id="textarea"
        name={textarea.name ? textarea.name : 'message'}
        rows={textarea.rows ? textarea.rows : 4}
        placeholder={textarea.placeholder}
        class="py-3 px-4 block w-full text-md rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-slate-900"
      />
    </div>
  )}

  <!-- Checkbox de aceptación de política de privacidad -->
  {disclaimer && (
    <div class="mt-3 flex items-start">
      <div class="flex mt-0.5">
        <input
          id="disclaimer"
          name="disclaimer"
          type="checkbox"
          class="cursor-pointer mt-1"
          required
        />
      </div>
      <div class="ml-3">
        <label for="disclaimer" class="cursor-pointer select-none text-sm text-gray-600 dark:text-gray-400">
          {disclaimer.label} <!-- Aquí se mostrará el texto de la política de privacidad -->
        </label>
      </div>
    </div>
  )}

  {description && (
    <p class="mt-3 text-sm text-gray-500 dark:text-gray-400">
      {description}
    </p>
  )}

  <!-- Botón de envío -->
  <div class="mt-6">
    <button
      type="submit"
      class="w-full py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
    >
      {button} <!-- Texto del botón personalizado -->
    </button>
  </div>
</form>